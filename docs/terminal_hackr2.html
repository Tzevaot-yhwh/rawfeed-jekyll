<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Terminal Hackr — Realista</title>
  <style>
    :root{
      --bg:#050504;
      --glass: rgba(255,255,255,0.03);
      --scan: rgba(0,255,0,0.03);
      --text:#7cff6b;
      --muted:#4b8f3e;
      --accent:#00ff6a;
      --shadow: 0 10px 30px rgba(0,0,0,0.7);
      --mono: 'SFMono-Regular', Menlo, Monaco, 'Courier New', monospace;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--mono);
      background: radial-gradient(1200px 800px at 10% 10%, #081008 0%, var(--bg) 30%);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
    }
    .terminal{
      width:min(960px,96%);
      max-width:1100px;
      border-radius:10px;
      /* background:linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35)); */
      box-shadow:var(--shadow);
      position:relative;
      display:flex;
      flex-direction:column;
      min-height: 550px;
      max-height: 550px;
      background-color: #0f0f0f;
      overflow-y: scroll;
    }
    .term-header{
      display:flex;
      gap:10px;
      align-items:center;
      padding:12px 16px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-bottom:1px solid rgba(255,255,255,0.03);
      backdrop-filter: blur(2px);
    }
    .btn{width:12px;height:12px;border-radius:50%;box-shadow:0 0 0 2px rgba(0,0,0,0.5) inset}
    .btn.close{background: #0bff55}
    .btn.min{background: #0b9e3a}
    .btn.max{background: #0b6b2a}
    .title{flex:1;text-align:center;font-size:13px;color:var(--muted);}

    .screen{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:4px;
      position:relative;
      overflow-y:auto;
      background-image:
        linear-gradient(transparent 92%, rgba(0,0,0,0.05) 92%),
        linear-gradient(90deg, transparent 97%, rgba(0,255,0,0.02) 97%);
      background-size:100% 3px, 3px 100%;
      padding:10px;
    }
    .line{white-space: pre;display:flex;align-items:center;}
    .prompt{margin-top: .2em;color:var(--muted);font-size:14px;margin-right:8px;}
    .input{
      background:transparent;
      border:none;
      outline:none;
      font-family:var(--mono);
      font-size:15px;
      color: #999;
      /* caret-color:var(--accent); */
      caret-color: transparent;
      /* flex: 1; descomente para o cursor fake ficar no lado direito */
    }
    /* .cursor{width:10px;height:18px;background:var(--text);margin-left:4px;animation:blink 1s steps(2,end) infinite;border-radius:2px;} */

    .cursor {
      width: 10px;
      height: 18px;
      background: var(--text);
      display:inline-block;
      animation: blink 1s steps(2, end) infinite;
      border-radius: 2px;
    }


    @keyframes blink{50%{opacity:0}}

    .scanlines{position:absolute;inset:0;pointer-events:none;background-image:repeating-linear-gradient(180deg, rgba(0,255,0,0.01) 0 1px, transparent 1px 3px);mix-blend-mode:overlay;opacity:0.45;z-index:5}
  </style>
</head>
<body>
<div id="terminal" class="terminal">
  <div class="term-header">
    <div class="btn close" title="close"></div>
    <div class="btn min" title="minimize"></div>
    <div class="btn max" title="maximize"></div>
    <div class="title">user@hackr — realista-shell</div>
  </div>
  <div class="screen" id="screen">
    <!-- Linhas dinâmicas -->
  </div>
</div>
<script>
const screen = document.getElementById('screen');
const terminal = document.getElementById("terminal");
const commands = {
  help: `Commands:\n - help ------------- Show help\n - about ------------- Show about\n`,
  about: `Terminal Hackr — realista. Criado com HTML/CSS/JS.`
};

function createInputLine() {
  const line = document.createElement('div');
  line.className = 'line';

  const prompt = document.createElement('span');
  prompt.className = 'prompt';
  prompt.textContent = 'guest@hackr:~$';

  const input = document.createElement('input');
  input.type = 'text';
  input.className = 'input';
  input.placeholder = 'type "help" to begin.';
  input.spellcheck = false;
  input.autocomplete = 'off';
  input.autocorrect = 'off';
  input.autocapitalize = 'off';

  const cursor = document.createElement('div');
  cursor.className = 'cursor';

  line.appendChild(prompt);
  line.appendChild(input);
  line.appendChild(cursor);
  screen.appendChild(line);

  input.focus();
  screen.scrollTop = screen.scrollHeight;

  // mover cursor fake conforme digita
  function updateCursor() {
    const offset = input.scrollWidth;
    cursor.style.marginLeft = offset + "px";
  }
  input.addEventListener("input", updateCursor);
  updateCursor(); // inicializa posição

  input.addEventListener('keydown', e => {
    if (e.key === 'Enter') {
      e.preventDefault();
      const cmd = input.value.trim();
      if(cmd) {
        line.removeChild(input);
        line.removeChild(cursor);
        const cmdText = document.createElement('span');
        cmdText.textContent = cmd;
        line.appendChild(cmdText);
        processCommand(cmd);
      }
      createInputLine();
    }
  });
}


function processCommand(cmd){
  switch(cmd){
    case 'help': writeLine(commands.help); break;
    case 'date': writeLine(new Date().toString()); break;
    case 'echo': writeLine(cmd.split(' ').slice(1).join(' ')); break;
    case 'about': writeLine(commands.about); break;
    case 'clear': screen.innerHTML=''; break;
    default: if(cmd) writeLine(cmd + ': comando não encontrado');
  }
}

function writeLine(text){
  const line = document.createElement('div');
  line.className = 'line';
  line.textContent = text;
  screen.appendChild(line);
  screen.scrollTop = screen.scrollHeight;
}

// inicia terminal
createInputLine();

terminal.addEventListener("click", () => {
  const activeInput = screen.querySelector(".input:last-of-type");
  if (activeInput) activeInput.focus();
});

</script>
</body>
</html>
